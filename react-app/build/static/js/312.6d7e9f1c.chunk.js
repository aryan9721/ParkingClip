"use strict";(self.webpackChunkParkingClip=self.webpackChunkParkingClip||[]).push([[312],{2982:function(e,n){n.Z="/server/parking-management-service/"},90312:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(11087),s=t(61889),i=t(1582),a=t(20890),o=t(74165),c=t(15861),l=t(29439),d=t(72791),u=t(31243),h=t(2982),x=t(30829),m=t(10635),p=t(19658),g=t(36151),v=t(76667),Z=t(80184);function f(e){var n=e.children;e.type;return(0,Z.jsx)(v.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}f.defaultProps={type:"scale"};var j=t(57689),b=function(){var e=(0,j.s0)(),n=(0,d.useState)(""),t=(0,l.Z)(n,2),r=t[0],s=t[1],i=(0,d.useState)(""),a=(0,l.Z)(i,2),v=a[0],b=a[1],y=(0,d.useState)(""),k=(0,l.Z)(y,2),w=k[0],P=k[1],S=(0,d.useState)(""),C=(0,l.Z)(S,2),N=C[0],I=C[1],E=(0,d.useState)(!1),O=(0,l.Z)(E,2),T=O[0],z=O[1],F=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),b(""),e.prev=2,e.next=5,u.Z.get(h.Z+"api/commons/otp/generate/"+w);case 5:n=e.sent,b(n.data.message),z(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),s(e.t0.response.data.message),console.error(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var n=(0,c.Z)((0,o.Z)().mark((function n(){var t,r;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(""),b(""),n.prev=2,n.next=5,u.Z.post(h.Z+"api/commons/login",{mobileNo:w,otp:N});case 5:t=n.sent,console.log(t),r=t.headers.authtoken,localStorage.clear(),localStorage.setItem("token",r),console.log("token",r),localStorage.setItem("userdata",JSON.stringify(t.data.data)),e("/"),b(t.data.message),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(2),s(n.t0.response.data.message),console.error(n.t0.response.data.message);case 20:case"end":return n.stop()}}),n,null,[[2,16]])})));return function(){return n.apply(this,arguments)}}();return(0,Z.jsxs)("div",{style:{gap:10,display:"inline-grid",width:"100%"},children:[(0,Z.jsx)(x.Z,{htmlFor:"mobileNumber",children:"Mobile Number:"}),(0,Z.jsx)(m.Z,{type:"text",id:"mobileNumber",name:"mobileNumber",value:w,onChange:function(e){P(e.target.value)}}),""!==r&&(0,Z.jsx)(p.Z,{severity:"error",children:r}),""!==v&&(0,Z.jsx)(p.Z,{severity:"success",children:v}),(0,Z.jsx)("div",{id:"ApiResponse"}),T?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(x.Z,{htmlFor:"otp",children:"Enter OTP:"}),(0,Z.jsx)(m.Z,{type:"text",id:"otp",name:"otp",value:N,onChange:function(e){I(e.target.value)}}),(0,Z.jsx)(f,{children:(0,Z.jsx)(g.Z,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:H,children:"Verify OTP"})})]}):(0,Z.jsx)(f,{children:(0,Z.jsx)(g.Z,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:F,children:"Send OTP"})})]})},y=t(64554),k=t(1413),w=t(45987),P=t(81317),S=["children"],C=function(e){var n=e.children,t=(0,w.Z)(e,S);return(0,Z.jsx)(P.Z,(0,k.Z)((0,k.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},t),{},{border:!1,boxShadow:!0,shadow:function(e){return e.customShadows.z1},children:(0,Z.jsx)(y.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:n})}))},N=t(49540),I=function(e){var n=e.children;return(0,Z.jsx)(y.Z,{sx:{minHeight:"100vh",flex:1,justifyContent:"center"},children:(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(s.ZP,{item:!0,xs:12,container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:{xs:"100vh",md:"100vh"}},children:(0,Z.jsx)(s.ZP,{item:!0,children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)("img",{src:N,alt:"",style:{width:150,marginLeft:"35%",alignItems:"center"}}),(0,Z.jsx)(C,{children:n})]})})})})})},E=function(){return(0,Z.jsx)(I,{children:(0,Z.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[(0,Z.jsx)(a.Z,{variant:"h3",children:"Login"}),(0,Z.jsx)(a.Z,{component:r.rU,to:"/RegisterBusiness",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Don't have an account?"})]})}),(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(b,{})})]})})}}}]);
//# sourceMappingURL=312.6d7e9f1c.chunk.js.map