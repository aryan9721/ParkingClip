{"version":3,"file":"static/js/138.c43f923b.chunk.js","mappings":"8PAqCA,IA4EA,EA5EmB,WACjB,IAAMA,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,aACnDC,QAAQC,IAAIN,GAEV,IAAAO,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,IAE1BI,EAAAA,EAAAA,YAAU,WACRC,GACF,GAAG,IAGH,IAAMA,EAAa,WACjBT,QAAQC,IAAIS,EAAAA,EAAM,wBAAwBf,EAASgB,WAAW,aAAahB,EAASiB,UACpFC,EAAAA,EAAAA,IAAWH,EAAAA,EAAM,wBAAwBf,EAASgB,WAAW,aAAahB,EAASiB,UAAUE,MAAK,SAACC,GACjGf,QAAQC,IAAIc,GACZR,EAAWQ,EAASC,KAAKA,KAAKA,KAChC,GACF,EAEMA,EAAO,CACTC,QAAS,CACP,CACEC,MAAO,UACPC,MAAO,UAET,CACED,MAAO,YACPC,MAAO,YAET,CACED,MAAO,iBACPC,MAAO,wBACPC,MAAO,KAET,CACEF,MAAO,eACPC,MAAO,cACPC,MAAO,KAET,CACEF,MAAO,WACPC,MAAO,UACPC,MAAO,GACPC,MAAM,IAGZC,KAAMhB,GAAWA,EAAQiB,KAAI,SAACC,GAAG,MAAM,CACrCC,QAAQC,EAAAA,EAAAA,KAAA,OAAKC,IAAKH,EAAIC,OAAQG,IAAI,KAClCC,SAAUL,EAAIK,SACdC,sBAAuBN,EAAIM,sBAC3BC,YAAaP,EAAIO,YACjBC,SAASN,EAAAA,EAAAA,KAAA,UAAQO,QAAS,kBA9DhC,SAAkBT,GAChBxB,QAAQC,IAAI,WAAWuB,GACvB,IAAMU,EAAcC,OAAOC,OACrBC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,WACXL,EAAYM,SAASC,MAAM,aAADC,OAAclB,EAAIC,OAAM,SAClDS,EAAYS,QACZT,EAAYU,OACd,EACAP,EAAIV,IAAMH,EAAIC,MAChB,CAoDsCoB,CAASrB,EAAI,EAACsB,SAAC,UAChD,KAIH,OACEpB,EAAAA,EAAAA,KAAA,OAAKqB,UAAU,OAAMD,UACnBpB,EAAAA,EAAAA,KAAA,OAAKqB,UAAU,gBAAeD,UAC5BE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,SAAQD,SAAA,EACrBpB,EAAAA,EAAAA,KAAA,MAAAoB,SAAI,yBACJpB,EAAAA,EAAAA,KAACuB,EAAAA,IAAY,CACXC,iBAAe,EACfC,MAAO,CAAEC,WAAY,SAAUC,WAAY,MAAOC,eAAgB,UAClEC,SAAO,EACPC,UAAQ,EACRC,OAAK,EACLzC,KAAMA,UAMlB,C,qBCxGA,IAJgB,qC","sources":["pages/QRDownload/QRDownload.js","pages/api/index.js"],"sourcesContent":["import \"./QRDownload.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { MDBDataTable } from \"mdbreact\";\r\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\r\nimport \"mdbreact/dist/css/mdb.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport api  from  '../api';\r\n// import HttpService from '../../utils/httpService'\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  // Avatar,\r\n  // AvatarGroup,\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  // List,\r\n  // ListItemAvatar,\r\n  // ListItemButton,\r\n  // ListItemSecondaryAction,\r\n  // ListItemText,\r\n  // MenuItem,\r\n  Stack,\r\n  // TextField,\r\n  Typography\r\n} from '@mui/material';\r\nfunction printing(row) {\r\n  console.log('printing',row);\r\n  const printWindow = window.open();\r\n  const img = new Image();\r\n  img.onload = function() {\r\n    printWindow.document.write(`<img src=\"${row.qrCode}\" />`);\r\n    printWindow.print();\r\n    printWindow.close();\r\n  };\r\n  img.src = row.qrCode;\r\n}\r\nconst QRDownload = () => {\r\n  const userdata = JSON.parse(localStorage.getItem('userdata'));\r\nconsole.log(userdata);\r\n  // const baseURL = api + \"api/commons/vehicles/\"+business.businessId+\"?location=\"+location.name;\r\n  const [results, setresults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getresults();\r\n  }, []);\r\n  \r\n  //get todo list from database\r\n  const getresults = () => {\r\n    console.log(api + \"api/commons/vehicles/\"+userdata.businessId+\"?location=\"+userdata.location);\r\n    axios.get( api + \"api/commons/vehicles/\"+userdata.businessId+\"?location=\"+userdata.location).then((response) => {\r\n      console.log(response);\r\n      setresults(response.data.data.data);\r\n    });\r\n  };\r\n\r\n  const data = {\r\n      columns: [\r\n        {\r\n          label: 'QR Code',\r\n          field: 'qrCode'\r\n        },\r\n        {\r\n          label: \"Mobile No\",\r\n          field: \"mobileNo\",\r\n        },\r\n        {\r\n          label: \"Vehicle Number\",\r\n          field: \"vehicleRegistrationNo\",\r\n          width: 150,\r\n        },\r\n        {\r\n          label: \"Vehicle Type\",\r\n          field: \"vehicleType\",\r\n          width: 270,\r\n        },\r\n        {\r\n          label: \"Download\",\r\n          field: \"actions\",\r\n          width: 50,\r\n          sort: false,\r\n        },\r\n      ],\r\n    rows: results && results.map((row) => ({ // Add a check before calling map\r\n      qrCode: <img src={row.qrCode} alt=\"\"></img>,\r\n      mobileNo: row.mobileNo,\r\n      vehicleRegistrationNo: row.vehicleRegistrationNo,\r\n      vehicleType: row.vehicleType,\r\n      actions: <button onClick={() => printing(row)}>Print</button> // Add a button to each row\r\n    })),\r\n  \r\n  };\r\n  // console.log(data);\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"homeContainer\">\r\n        <div className=\"VRbody\">\r\n          <h3>Registered Vehicles</h3>\r\n          <MDBDataTable\r\n            noBottomColumns\r\n            style={{ lineHeight: \"normal\", whiteSpace: \"pre\", justifyContent: \"center\" }}\r\n            striped\r\n            bordered\r\n            small\r\n            data={data}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default QRDownload;\r\n","// const baseURL = 'https://parking-management-service-804561330.development.catalystserverless.com/server/parking-management-service/';\r\n// const baseURL = 'http://localhost:5001/';\r\nconst baseURL = '/server/parking-management-service/';\r\n// const baseURL = 'http://parking-clip.com/server/parking-management-service/';\r\n// const baseURL = 'http://192.168.0.103:5001/';\r\n// const baseURL = 'http://localhost:3000/server/parking-management-service/';\r\nexport default baseURL;"],"names":["userdata","JSON","parse","localStorage","getItem","console","log","_useState","useState","_useState2","_slicedToArray","results","setresults","useEffect","getresults","api","businessId","location","axios","then","response","data","columns","label","field","width","sort","rows","map","row","qrCode","_jsx","src","alt","mobileNo","vehicleRegistrationNo","vehicleType","actions","onClick","printWindow","window","open","img","Image","onload","document","write","concat","print","close","printing","children","className","_jsxs","MDBDataTable","noBottomColumns","style","lineHeight","whiteSpace","justifyContent","striped","bordered","small"],"sourceRoot":""}