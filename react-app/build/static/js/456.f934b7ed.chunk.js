"use strict";(self.webpackChunkParkingClip=self.webpackChunkParkingClip||[]).push([[456],{54456:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(74165),r=n(15861),o=n(29439),s=n(72791),l=n(31243),i=n(2982),c=n(19658),d=n(30097),u=n.n(d),p=n(80184),v=function(){var e=(0,s.useState)(!1),t=(0,o.Z)(e,2),n=(t[0],t[1],(0,s.useState)("")),d=(0,o.Z)(n,2),v=d[0],h=d[1],m=(0,s.useState)(""),f=(0,o.Z)(m,2),g=f[0],x=f[1],j=(0,s.useState)([]),Z=(0,o.Z)(j,2),C=Z[0],S=Z[1];(0,s.useEffect)((function(){b()}),[]);var N=JSON.parse(localStorage.getItem("userdata")),b=function(){l.Z.get(i.Z+"api/businesses/"+N.userId).then((function(e){S(e.data.data.locations),Q(e.data.data.locations[0].name)}))},y=(0,s.useState)(""),A=(0,o.Z)(y,2),M=(A[0],A[1]),w=(0,s.useState)(""),I=(0,o.Z)(w,2),k=I[0],z=I[1],L=(0,s.useState)(""),R=(0,o.Z)(L,2),P=R[0],B=R[1],O=(0,s.useState)(""),T=(0,o.Z)(O,2),W=T[0],E=T[1],H=(0,s.useState)(""),D=(0,o.Z)(H,2),F=D[0],q=D[1],J=(0,s.useState)(""),V=(0,o.Z)(J,2),$=V[0],_=V[1],U=(0,s.useState)("no location found"),G=(0,o.Z)(U,2),K=G[0],Q=G[1],X=(JSON.parse(localStorage.getItem("userdata")),function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=JSON.parse(localStorage.getItem("userdata")),r={firstName:k,middleName:W||"Not Defined",lastName:P||"Not Defined",mobileNo:F,aadharCardNo:$,location:K,photoName:oe,business:{businessId:n.businessId,businessName:n.userName}},e.prev=3,e.next=6,l.Z.post(i.Z+"api/attendants",r).then((function(e){M(e.data),x(""),h(e.data.message)}));case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0.response.data.message),h(""),x(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()),Y=(0,s.useState)(null),ee=(0,o.Z)(Y,2),te=ee[0],ne=ee[1],ae=(0,s.useState)(null),re=(0,o.Z)(ae,2),oe=re[0],se=re[1],le=(0,s.useRef)(null),ie=(0,s.useRef)(null),ce=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0});case 2:t=e.sent,ne(t),le.current.srcObject=t,le.current.play();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)("div",{className:"home",children:(0,p.jsx)("div",{className:"homeContainer",children:(0,p.jsx)("div",{className:"body",children:(0,p.jsxs)("div",{className:"formContainer",children:[(0,p.jsx)("h3",{children:"Create New Parking Attendant"}),(0,p.jsxs)("form",{onSubmit:X,children:[""!==v&&(0,p.jsx)(c.Z,{severity:"success",children:v}),""!==g&&(0,p.jsx)(c.Z,{severity:"error",children:g}),(0,p.jsxs)("div",{children:[null===te?(0,p.jsx)("button",{onClick:ce,children:null===oe?"Take picture":"Retake"}):(0,p.jsxs)("div",{children:[(0,p.jsx)(u(),{audio:!1,ref:ie,screenshotFormat:"image/jpeg",videoConstraints:{facingMode:"environment",width:"60%"},className:"webcam"}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:function(){var e=ie.current.getScreenshot();se(e),ne(null)},children:" Take picture"})})]}),null!==oe&&(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{src:oe,style:{height:"20%",width:"100%"},alt:"captured"}),(0,p.jsx)("div",{})]})]}),(0,p.jsxs)("div",{onChange:function(e){return function(e){var t=e.target.value;z(t)}(e)},style:{width:"100%"},className:"formInput",children:[(0,p.jsx)("label",{children:"First Name*"}),(0,p.jsx)("input",{required:!0,type:Text,placeholder:"ABC"})]}),(0,p.jsxs)("div",{onChange:function(e){return function(e){var t=e.target.value;E(t)}(e)},style:{width:"100%"},className:"formInput",children:[(0,p.jsx)("label",{children:"Middle Name"}),(0,p.jsx)("input",{type:Text,placeholder:"ABC"})]}),(0,p.jsxs)("div",{onChange:function(e){return function(e){var t=e.target.value;B(t)}(e)},style:{width:"100%"},className:"formInput",children:[(0,p.jsx)("label",{children:"Last Name"}),(0,p.jsx)("input",{type:Text,placeholder:"ABC"})]}),(0,p.jsxs)("div",{onChange:function(e){return function(e){var t=e.target.value;_(t)}(e)},style:{width:"100%"},className:"formInput",children:[(0,p.jsx)("label",{children:"Aaddhar Number"}),(0,p.jsx)("input",{required:!0,type:"number",placeholder:"1234 5678 9012"})]}),(0,p.jsxs)("div",{onChange:function(e){return function(e){var t=e.target.value;q(t)}(e)},className:"formInput",children:[(0,p.jsx)("label",{children:"Contact No*"}),(0,p.jsx)("input",{required:!0,style:{padding:"8px",border:"1px solid gray",borderRadius:"5px",height:"auto"},type:"number",placeholder:"+91 1234567890"})]}),(0,p.jsxs)("div",{className:"formInput",children:[(0,p.jsx)("label",{children:"Select Location"}),(0,p.jsx)("select",{id:"locationSelect",onChange:function(e){var t=e.target.value;Q(t)},children:C.map((function(e){return(0,p.jsx)("option",{value:e.name,children:e.name})}))})]}),(0,p.jsx)("button",{children:"Add Attendant"})]})]})})})})}},2982:function(e,t){t.Z="/server/parking-management-service/"},19658:function(e,t,n){n.d(t,{Z:function(){return L}});var a=n(4942),r=n(63366),o=n(87462),s=n(72791),l=n(28182),i=n(94419),c=n(12065),d=n(66934),u=n(31402),p=n(14036),v=n(35527),h=n(75878),m=n(21217);function f(e){return(0,m.Z)("MuiAlert",e)}var g=(0,h.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),x=n(13400),j=n(76189),Z=n(80184),C=(0,j.Z)((0,Z.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),S=(0,j.Z)((0,Z.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),N=(0,j.Z)((0,Z.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),b=(0,j.Z)((0,Z.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),y=(0,j.Z)((0,Z.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),A=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],M=(0,d.ZP)(v.Z,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,p.Z)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?c._j:c.$n,s="light"===t.palette.mode?c.$n:c._j,l=n.color||n.severity;return(0,o.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},l&&"standard"===n.variant&&(0,a.Z)({color:t.vars?t.vars.palette.Alert["".concat(l,"Color")]:r(t.palette[l].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(l,"StandardBg")]:s(t.palette[l].light,.9)},"& .".concat(g.icon),t.vars?{color:t.vars.palette.Alert["".concat(l,"IconColor")]}:{color:t.palette[l].main}),l&&"outlined"===n.variant&&(0,a.Z)({color:t.vars?t.vars.palette.Alert["".concat(l,"Color")]:r(t.palette[l].light,.6),border:"1px solid ".concat((t.vars||t).palette[l].light)},"& .".concat(g.icon),t.vars?{color:t.vars.palette.Alert["".concat(l,"IconColor")]}:{color:t.palette[l].main}),l&&"filled"===n.variant&&(0,o.Z)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(l,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(l,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[l].dark:t.palette[l].main,color:t.palette.getContrastText(t.palette[l].main)}))})),w=(0,d.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),I=(0,d.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0",minWidth:0,overflow:"auto"}),k=(0,d.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),z={success:(0,Z.jsx)(C,{fontSize:"inherit"}),warning:(0,Z.jsx)(S,{fontSize:"inherit"}),error:(0,Z.jsx)(N,{fontSize:"inherit"}),info:(0,Z.jsx)(b,{fontSize:"inherit"})},L=s.forwardRef((function(e,t){var n,a,s,c,d,v,h=(0,u.Z)({props:e,name:"MuiAlert"}),m=h.action,g=h.children,j=h.className,C=h.closeText,S=void 0===C?"Close":C,N=h.color,b=h.components,L=void 0===b?{}:b,R=h.componentsProps,P=void 0===R?{}:R,B=h.icon,O=h.iconMapping,T=void 0===O?z:O,W=h.onClose,E=h.role,H=void 0===E?"alert":E,D=h.severity,F=void 0===D?"success":D,q=h.slotProps,J=void 0===q?{}:q,V=h.slots,$=void 0===V?{}:V,_=h.variant,U=void 0===_?"standard":_,G=(0,r.Z)(h,A),K=(0,o.Z)({},h,{color:N,severity:F,variant:U}),Q=function(e){var t=e.variant,n=e.color,a=e.severity,r=e.classes,o={root:["root","".concat(t).concat((0,p.Z)(n||a)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,i.Z)(o,f,r)}(K),X=null!=(n=null!=(a=$.closeButton)?a:L.CloseButton)?n:x.Z,Y=null!=(s=null!=(c=$.closeIcon)?c:L.CloseIcon)?s:y,ee=null!=(d=J.closeButton)?d:P.closeButton,te=null!=(v=J.closeIcon)?v:P.closeIcon;return(0,Z.jsxs)(M,(0,o.Z)({role:H,elevation:0,ownerState:K,className:(0,l.Z)(Q.root,j),ref:t},G,{children:[!1!==B?(0,Z.jsx)(w,{ownerState:K,className:Q.icon,children:B||T[F]||z[F]}):null,(0,Z.jsx)(I,{ownerState:K,className:Q.message,children:g}),null!=m?(0,Z.jsx)(k,{ownerState:K,className:Q.action,children:m}):null,null==m&&W?(0,Z.jsx)(k,{ownerState:K,className:Q.action,children:(0,Z.jsx)(X,(0,o.Z)({size:"small","aria-label":S,title:S,color:"inherit",onClick:W},ee,{children:(0,Z.jsx)(Y,(0,o.Z)({fontSize:"small"},te))}))}):null]}))}))}}]);
//# sourceMappingURL=456.f934b7ed.chunk.js.map