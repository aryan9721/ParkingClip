"use strict";(self.webpackChunkParkingClip=self.webpackChunkParkingClip||[]).push([[748],{67748:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});n(74165),n(15861);var i=n(29439),s=n(72791),a=n(77063),r=n(2982),o=n(31243),l=n(19658),c=n(34051),d=n(94026),p=n(20269),h=n(90338),u=n(80184),v=function(){var e=(0,s.useState)(!0),t=(0,i.Z)(e,2),n=t[0],v=t[1],x=r.Z+"api/parkings/vehicle/ticketById/",m=(0,s.useState)(""),g=(0,i.Z)(m,2),f=g[0],j=g[1],y=(0,s.useState)(""),C=(0,i.Z)(y,2),Z=C[0],k=C[1],S=(0,s.useState)(!0),A=(0,i.Z)(S,2),N=A[0],w=A[1];var M=(0,s.useState)(!1),b=(0,i.Z)(M,2),I=b[0],z=b[1],B=(0,s.useState)(""),R=(0,i.Z)(B,2),P=R[0];R[1];(0,s.useEffect)((function(){""!==P&&z(!0)}),[P]);var T=function(){z(!1),window.location.reload()},L=(0,s.useState)(""),E=(0,i.Z)(L,2),H=E[0],D=E[1];return(0,u.jsxs)("div",{style:{width:"100%"},children:[(0,u.jsxs)(c.Z,{open:I,onClose:T,children:[(0,u.jsx)(d.Z,{children:(0,u.jsx)("p",{children:P})}),(0,u.jsx)(p.Z,{children:(0,u.jsx)(h.Z,{onClick:T,color:"primary",children:"Scan Another"})})]}),f?(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("div",{className:"ticket",children:[""!==Z&&(0,u.jsx)(l.Z,{severity:"success",children:Z.data.message}),(0,u.jsx)("div",{className:"wrapper",children:(0,u.jsx)("span",{style:{fontSize:30,linHeight:39,marginBottom:30},children:"Ticket"})}),(0,u.jsxs)("div",{style:{marginBottom:18},children:[(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,u.jsx)("span",{style:{fontSize:20},children:f.businessName}),(0,u.jsx)("span",{children:"Ticket No. "})]}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,u.jsx)("div",{children:(0,u.jsx)("span",{children:f.parkingLocation})}),(0,u.jsx)("span",{style:{color:"#21BECC",fontWeight:"700"},children:f.ticketId})]})]}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)("div",{className:"center",style:{marginBottom:16},children:(0,u.jsx)("img",{src:f.qrCode,alt:"logo",width:200,height:200})})}),(0,u.jsxs)("div",{style:{marginBottom:16},children:[(0,u.jsx)("span",{className:"entryText",children:"Entry Details"}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,u.jsxs)("span",{children:[f.vehicleType," - ",f.vehicleRegistrationNo]})}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,u.jsxs)("span",{children:["Contact No - ",f.mobileNo]})})]}),(0,u.jsx)("span",{className:"entryText",style:{marginBottom:16},children:"Total Rent"}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,u.jsx)("div",{className:"borderContainer",style:{marginBottom:16},children:(0,u.jsxs)("span",{style:{fontSize:30},children:[" \u20b9  ",f.ticketPaymentDetails.parkingCharges.totalRent]})})}),(0,u.jsx)("span",{children:"Rent breakup"}),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"borderContainer",style:{height:135,marginTop:10,marginBottom:20,alignItems:"center",justifyContent:"center"},children:[(0,u.jsxs)("div",{className:"details",children:[(0,u.jsx)("span",{children:" Rent per Hour"}),(0,u.jsxs)("span",{children:[" ",f.ticketPaymentDetails.parkingCharges.perHrRent," "]})]}),(0,u.jsxs)("div",{className:"details",children:[(0,u.jsx)("span",{children:" Vallet Charges "}),(0,u.jsxs)("span",{children:[f.ticketPaymentDetails.parkingCharges.valletCharges," "]})]}),(0,u.jsxs)("div",{className:"details",style:{border:"none"},children:[(0,u.jsx)("span",{children:" Total Time Hr "}),(0,u.jsxs)("span",{children:[f.ticketPaymentDetails.parkingCharges.totalTimeHr," "]})]})]})}),"EXITED"!=f.parkingStatus?(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:10},children:(0,u.jsx)("button",{onClick:function(){var e=r.Z+"api/parkings/vehicle/ticketStatus/";o.Z.put(e+f.ticketId+"/EXITED").then((function(e){console.log(e),k(e)}))},children:"Exit Vehicle"})}):(0,u.jsxs)("span",{children:["Parking Status: ",f.parkingStatus]}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:16}}),(0,u.jsx)("button",{onClick:function(){window.location.reload(!1)},children:"Scan Another"})]})}):n&&(0,u.jsx)("div",{children:(0,u.jsx)(a.T,{delay:1e3,onError:function(e){console.error(e)},onResult:function(e){if(N){if(""==H&&e){D(JSON.parse(e));var t=JSON.parse(e);if(t.ticketId){var n=t.ticketId;o.Z.get(x+n).then((function(e){j(e.data.data)})),v(!1)}else alert("invalid QR code!")}w(!1)}},style:{width:"100%"},constraints:{facingMode:"environment"}})})]})}},2982:function(e,t){t.Z="/server/parking-management-service/"},19658:function(e,t,n){n.d(t,{Z:function(){return B}});var i=n(4942),s=n(63366),a=n(87462),r=n(72791),o=n(28182),l=n(94419),c=n(12065),d=n(66934),p=n(31402),h=n(14036),u=n(35527),v=n(75878),x=n(21217);function m(e){return(0,x.Z)("MuiAlert",e)}var g=(0,v.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),f=n(13400),j=n(76189),y=n(80184),C=(0,j.Z)((0,y.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Z=(0,j.Z)((0,y.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),k=(0,j.Z)((0,y.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),S=(0,j.Z)((0,y.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),A=(0,j.Z)((0,y.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),N=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],w=(0,d.ZP)(u.Z,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,h.Z)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,s="light"===t.palette.mode?c._j:c.$n,r="light"===t.palette.mode?c.$n:c._j,o=n.color||n.severity;return(0,a.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===n.variant&&(0,i.Z)({color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:s(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:r(t.palette[o].light,.9)},"& .".concat(g.icon),t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}),o&&"outlined"===n.variant&&(0,i.Z)({color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:s(t.palette[o].light,.6),border:"1px solid ".concat((t.vars||t).palette[o].light)},"& .".concat(g.icon),t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}),o&&"filled"===n.variant&&(0,a.Z)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(o,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(o,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main,color:t.palette.getContrastText(t.palette[o].main)}))})),M=(0,d.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),b=(0,d.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0",minWidth:0,overflow:"auto"}),I=(0,d.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),z={success:(0,y.jsx)(C,{fontSize:"inherit"}),warning:(0,y.jsx)(Z,{fontSize:"inherit"}),error:(0,y.jsx)(k,{fontSize:"inherit"}),info:(0,y.jsx)(S,{fontSize:"inherit"})},B=r.forwardRef((function(e,t){var n,i,r,c,d,u,v=(0,p.Z)({props:e,name:"MuiAlert"}),x=v.action,g=v.children,j=v.className,C=v.closeText,Z=void 0===C?"Close":C,k=v.color,S=v.components,B=void 0===S?{}:S,R=v.componentsProps,P=void 0===R?{}:R,T=v.icon,L=v.iconMapping,E=void 0===L?z:L,H=v.onClose,D=v.role,W=void 0===D?"alert":D,O=v.severity,V=void 0===O?"success":O,F=v.slotProps,J=void 0===F?{}:F,X=v.slots,$=void 0===X?{}:X,_=v.variant,q=void 0===_?"standard":_,Q=(0,s.Z)(v,N),G=(0,a.Z)({},v,{color:k,severity:V,variant:q}),K=function(e){var t=e.variant,n=e.color,i=e.severity,s=e.classes,a={root:["root","".concat(t).concat((0,h.Z)(n||i)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,l.Z)(a,m,s)}(G),U=null!=(n=null!=(i=$.closeButton)?i:B.CloseButton)?n:f.Z,Y=null!=(r=null!=(c=$.closeIcon)?c:B.CloseIcon)?r:A,ee=null!=(d=J.closeButton)?d:P.closeButton,te=null!=(u=J.closeIcon)?u:P.closeIcon;return(0,y.jsxs)(w,(0,a.Z)({role:W,elevation:0,ownerState:G,className:(0,o.Z)(K.root,j),ref:t},Q,{children:[!1!==T?(0,y.jsx)(M,{ownerState:G,className:K.icon,children:T||E[V]||z[V]}):null,(0,y.jsx)(b,{ownerState:G,className:K.message,children:g}),null!=x?(0,y.jsx)(I,{ownerState:G,className:K.action,children:x}):null,null==x&&H?(0,y.jsx)(I,{ownerState:G,className:K.action,children:(0,y.jsx)(U,(0,a.Z)({size:"small","aria-label":Z,title:Z,color:"inherit",onClick:H},ee,{children:(0,y.jsx)(Y,(0,a.Z)({fontSize:"small"},te))}))}):null]}))}))}}]);
//# sourceMappingURL=748.fc55ab1f.chunk.js.map