{"version":3,"file":"static/js/32.ad8ae982.chunk.js","mappings":"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","sources":["pages/api/index.js","pages/showAttendants/ShowAttendant.js"],"sourcesContent":["// const baseURL = 'https://parking-management-service-804561330.development.catalystserverless.com/server/parking-management-service/';\r\n// const baseURL = 'http://localhost:5001/';\r\nconst baseURL = '/server/parking-management-service/';\r\n// const baseURL = 'http://parking-clip.com/server/parking-management-service/';\r\n// const baseURL = 'http://192.168.0.103:5001/';\r\n// const baseURL = 'http://localhost:3000/server/parking-management-service/';\r\nexport default baseURL;","import \"./ShowAttendant.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { MDBDataTable } from \"mdbreact\";\r\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\r\nimport \"mdbreact/dist/css/mdb.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport api from '../api';\r\n// import HttpService from '../../utils/httpService'\r\nimport axios from \"axios\";\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button } from '@material-ui/core';\r\n\r\nconst ShowAttendant = () => {\r\n  const [message, setMessage] = useState('');\r\n  const [open, setOpen] = useState(false);\r\n  useEffect(() => {\r\n    if (message !== '') {\r\n      setOpen(true);\r\n    }\r\n  }, [message]);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    window.location.reload(); // Reload the page\r\n  };\r\n\r\n  const baseURL =\r\n    api+ \"api/attendants?page=0&limit=100\";\r\n\r\n    const [results, setresults] = useState([]);\r\n\r\n    useEffect(() => {\r\n      getresults();\r\n    }, []);\r\n    \r\n    //get todo list from database\r\n    const getresults = () => {\r\n      axios.get(baseURL).then((response) => {\r\n        setresults(response.data.data.data);\r\n      });\r\n    };\r\n  // console.log(\"results.data\", results.data);\r\n  function handleButtonClick(row) {\r\n    const updatedRow = {\r\n      ...row,\r\n      isOnDuty: !row.isOnDuty\r\n    };\r\n  \r\n    axios.put(api+'api/attendants/'+updatedRow.attendantId, updatedRow)\r\n      .then(response => {\r\n        // handle success response\r\n        setMessage(response.data.message);\r\n        console.log('API call succeeded with response: ', response.data);\r\n      })\r\n      .catch(error => {\r\n        // handle error response\r\n        console.error('API call failed with error: ', error);\r\n      });\r\n  }\r\n\r\n  function handleDeleteClick(row) {\r\n    axios.delete(api+'api/attendants/'+row.attendantId)\r\n      .then(response => {\r\n        // handle success response\r\n        setMessage(response.data.message);\r\n        // console.log('API call succeeded with response: ', response.data);\r\n      })\r\n      .catch(error => {\r\n        // handle error response\r\n        console.error('API call failed with error: ', error);\r\n      });\r\n  }\r\n  console.log(results);\r\n  const data = {\r\n    columns: [\r\n      \r\n      {\r\n        label: \"Picture\",\r\n        field: \"photoName\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"First Name\",\r\n        field: \"firstName\",\r\n      },\r\n      {\r\n        label: \"middle Name\",\r\n        field: \"middleName\",\r\n        width: 150,\r\n      },\r\n      {\r\n        label: \"last Name\",\r\n        field: \"lastName\",\r\n        width: 270,\r\n      },\r\n      {\r\n        label: \"Contact Number\",\r\n        field: \"mobileNo\",\r\n        width: 200,\r\n      },\r\n      {\r\n        label: \"Aadhar Card No\",\r\n        field: \"aadharCardNo\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"location\",\r\n        field: \"location\",\r\n        width: 150,\r\n      },\r\n      {\r\n        label: \"Active\",\r\n        field: \"isOnDuty\",\r\n        // sort: \"asc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        label: \"Enable / Disable\",\r\n        field: \"enabledisable\",\r\n        // sort: \"asc\",\r\n        // width: 100,\r\n      },\r\n      {\r\n        label: \"Delete\",\r\n        field: \"delete\",\r\n        // sort: \"asc\",\r\n        // width: 100,\r\n      },\r\n    ],\r\n    rows: results && results.map((row) => ({ // Add a check before calling map\r\n      firstName: row.firstName,\r\n      middleName: row.middleName,\r\n      lastName: row.lastName,\r\n      mobileNo: row.mobileNo,\r\n      aadharCardNo: row.aadharCardNo,\r\n      location: row.location,\r\n      isOnDuty: row.isOnDuty.toString(),\r\n      photoName: <img src={row.photoName} style={{height: 100, width: 125}} alt=\"\" />,\r\n      enabledisable: <button onClick={() => handleButtonClick(row)}>{row.isOnDuty ? 'Disable' : 'Enable'}</button>,\r\n      delete: <button onClick={() => handleDeleteClick(row)}>Delete</button>\r\n    })),\r\n  };\r\n  \r\n  // console.log(data);\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"homeContainer\">\r\n      <Dialog open={open} onClose={handleClose}>\r\n        {/* <DialogTitle>Modal Title</DialogTitle> */}\r\n        <DialogContent>\r\n          <p>{message}</p>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n        <div className=\"VRbody\">\r\n          <h3>Attendant Data</h3>\r\n          {/* <h1>{results.data[0]}</h1> */}\r\n          <MDBDataTable\r\n            noBottomColumns style={{lineHeight: \"normal\",whiteSpace: \"pre\", justifyContent: \"center\"}} striped bordered small data={data} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowAttendant;\r\n"],"names":["_useState","useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","open","setOpen","useEffect","handleClose","window","location","reload","baseURL","api","_useState5","_useState6","results","setresults","getresults","axios","then","response","data","console","log","columns","label","field","width","rows","map","row","firstName","middleName","lastName","mobileNo","aadharCardNo","isOnDuty","toString","photoName","_jsx","src","style","height","alt","enabledisable","onClick","updatedRow","_objectSpread","attendantId","catch","error","handleButtonClick","children","delete","handleDeleteClick","className","_jsxs","Dialog","onClose","DialogContent","DialogActions","Button","color","MDBDataTable","noBottomColumns","lineHeight","whiteSpace","justifyContent","striped","bordered","small"],"sourceRoot":""}