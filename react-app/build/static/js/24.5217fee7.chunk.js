"use strict";(self.webpackChunkParkingClip=self.webpackChunkParkingClip||[]).push([[24],{9552:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var i=n(74165),s=n(15861),a=n(29439),l=n.p+"static/media/Logo.e9dd217bc04ee0ff203a.png",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA0CAYAAAD46nqNAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUDSURBVHgBvVlNlho3EK7qZjK7DDlBxFzA+AX7vawMmWSRVeITDD4BMycwnMCeE8CcgMnK7yUmQ1Z+z8ZvyAVs+QTBy0CQUqUGDC2pW83PfIthkNTS1yVV6asCYUuIP97VIYqeAOgqIlbps0zN5UX3RANI/gSt/wIFQ/nToyFsASwyWPTvyvC1aiHqizUyoZBawxCms478+XsZ+lAQwR2JWdAaX8J0ehVCNJcgbyXGUZemFbBfSK3gUv5Yu8kaFGV1isH75xjj7QHImekxgj6vkTXIa8HTwfuuRt2EbHyic3UDEY4BlNzoUUCOg4Ic6Je8F+Qtl2ffXUIowTxyGqFHf69lI8wzxe3bKuqIz++5bwxq6H04qz2z2q3JeFtRtz3zjIn4ZSgxm+idQK28R4Ys2SZLdsBHkMg1iVzX9TC94ZWK4rZsPJzAjjgdjF7SLrRcfeQ4T9cdZ0VQvKK3O3a/HWrd+XD2qA17xOngXVsjuhxkojGuLA3xxYu/Ui03ObjaNzmGmVPBtaOrDOq/i+UXQ9BYLwnCaUjeVjgQdBzTmijT7eT5LTqv5RVBsl7dOQHOGvs4cz7w3Hqunjm6VlY0BMl6LZsc9GQj/M7cFgsRMUy3kxWf8GfE20ufVftRfQ33BD3XHUdzXdy+ESXP9sqisU78/rYKcZy86HQ6LKJY2IqVwegTxZRvNzpUXC+xnks/QNs7hEAYpXMy71O8qtOTSePxEcXUUa+ItKInb2iO1FGLqhGxfmCNnsNvEAg8UXcJuVQ7QhOPj/pLbwyYaWzPoUVEca5ijY1TF78HFGwvcoRAdT2mZWI+H9uN+IAteGJ3HEkIAN0E53ljMGBMsqRzzTKHGWsLCsS+asAYETDGt2Y5gt0w2dMYLyLXBOEHG8b5Q/TfEADfmhH592e7eSYgAJ4AuzlG6x6EYGavSaFnTAS1bQWFdQgAB1iWYr5+7pNnj3sQgmWQX38e9OeIPFFaHWjHNR9YNpESpgufEvQEE/6flHejiEwjpf1ruo3zaEzSSs7cNrAhGg8NPn+o5x8hFVH4JaOFmkgTYbnThPuCMtZLO8mE9YAJM2RKS7kk6eL9gI6UJf1JD5i8JImDSruy+7opEB0YnKi5r8tE7hmCXtEYYxcODKf1KLws5d7qJvHENCEo+4IDISl7OKyn1dXy3428uPLniL25nho+0f/OHhYRoEHkTJo7vwPbOeTHH2orhbVxF3usWCZdt/+tPp53HeTIOdTT9e8bBBdn0ZWL1IXRfvuBKa84RG6SqD0eewkmgzhXtQUEhZ0XJu/YlRzN4an9SLqQrR20CJpcVYErVwUsRX3x6o2AbcnxuSvFfVef1qrjSnOdepCLN1zycK3BeQZsCXKKvq+84hMVXsGalDxsIUGoUnWqsNPQuXsBbgWeWV7xEjRbjVEDHOeRDnMzr3SbIvfcU/uZ5JVXMiU/PUg/HaC7NEsHPYRkVkGUz3peeSU3J6GKZ88nShOS/vCTRc6I2ZwKvxkHgcisitKWy0ZtI36K16NzquL3nIuammMtKK4W+qWp8prKGZG7EL5OMosc4ZqusiYEogQFwAVHUr5cKrHzB6rS03Z/Q0z/ySA3XlwEwShkQcZCnt9CWNK+DiZXuCBamCBjC5JbkWNsRZBRgOTW5BhbE2QEkNyJHGOn2kxy28QN1GDFM5LyN7uSM/PAnpCKk4VCyb2Bfz063XMO8z/SGFjICPYa4QAAAABJRU5ErkJggg==",c=n(72791),o=n(31243),d=n(2982),u=n(30097),h=n.n(u),g=n(80184);var x=function(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],u=t[1];(0,c.useEffect)((function(){var e=window.location.hash.replace(/^#\/UserUI\?TicketId=/,"");u(e)}),[]);var x=d.Z+"api/commons/user/ticket/",m=(0,c.useState)(null),j=(0,a.Z)(m,2),p=j[0],y=j[1];(0,c.useEffect)((function(){f()}),[]);var f=function(){var e=window.location.hash.replace(/^#\/UserUI\?TicketId=/,"");o.Z.get(x+e).then((function(e){var t=e.data.data;t.entryDateTime=new Date(t.entryDateTime),t.exitDateTime=new Date(t.exitDateTime),y(t)}))},v=(0,c.useState)(null),C=(0,a.Z)(v,2),A=C[0],T=C[1],N=(0,c.useState)(""),k=(0,a.Z)(N,2),w=k[0],S=k[1];(0,c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("locationData"));if(e&&e.TicketId==n){var t=e.latitude,i=e.longitude;T({latitude:t,longitude:i})}var s=JSON.parse(localStorage.getItem("additionalInfo"));s&&s.TicketId==n&&S(s.additionalInfo);var a=JSON.parse(localStorage.getItem("imageData"));a&&a.TicketId==n&&R(a.capturedImage)}),[n]);var I=function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,i={latitude:t.latitude,longitude:t.longitude,TicketId:n};localStorage.setItem("locationData",JSON.stringify(i)),T(i)}),(function(e){console.error(e)}))},D=(0,c.useState)(null),b=(0,a.Z)(D,2),E=b[0],H=b[1],U=(0,c.useState)(null),B=(0,a.Z)(U,2),Z=B[0],R=B[1],Q=(0,c.useRef)(null),z=(0,c.useRef)(null),O=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0});case 2:t=e.sent,H(t),Q.current.srcObject=t,Q.current.play();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(p),(0,g.jsx)("div",{className:"container",children:p?(0,g.jsx)("div",{className:"card",children:(0,g.jsxs)("div",{style:{padding:44,paddingTop:16,paddingBottom:16},children:[(0,g.jsxs)("div",{className:"header",children:[(0,g.jsx)("img",{src:l,alt:"logo",width:147,height:56}),(0,g.jsx)("span",{className:"headingText",children:"Parking Clip"})]}),(0,g.jsx)("div",{className:"wrapper",children:(0,g.jsx)("span",{style:{fontSize:30,linHeight:39,marginBottom:30},children:"Ticket"})}),(0,g.jsxs)("div",{style:{marginBottom:18},children:[(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsx)("span",{style:{fontSize:20},children:p.businessName}),(0,g.jsx)("span",{children:"Ticket No. "})]}),(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{src:r,alt:"location",width:10,height:13}),(0,g.jsx)("span",{style:{marginLeft:7},children:p.parkingLocation})]}),(0,g.jsx)("span",{style:{color:"#21BECC",fontWeight:"700"},children:p.ticketId})]})]}),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,g.jsx)("div",{className:"center",style:{marginBottom:16},children:(0,g.jsx)("img",{src:p.qrCode,alt:"logo",width:200,height:200})})}),p.valletNumber?(0,g.jsxs)("div",{style:{marginBottom:16},children:["          ",(0,g.jsx)("span",{className:"entryText",children:"Vallet Number"}),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,g.jsx)("span",{children:p.valletNumber})})]}):null,(0,g.jsxs)("div",{style:{marginBottom:16},children:[(0,g.jsx)("span",{className:"entryText",children:"Entry Details"}),(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsxs)("span",{children:[p.entryDateTime.getDate()," / ",p.entryDateTime.getMonth()+1," / ",p.entryDateTime.getFullYear()]}),(0,g.jsxs)("span",{children:[p.entryDateTime.getHours(),":",p.entryDateTime.getMinutes()," Hrs"]})]}),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,g.jsxs)("span",{children:[p.vehicleType," - ",p.vehicleRegistrationNo]})}),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,g.jsxs)("span",{children:["Contact No - ",p.mobileNo]})})]}),p.exitDateTime?(0,g.jsxs)("div",{children:["       ",(0,g.jsx)("span",{className:"entryText",children:"Exit Details"}),(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsxs)("span",{children:[p.exitDateTime.getDate()," / ",p.exitDateTime.getMonth()+1," / ",p.exitDateTime.getFullYear()]}),(0,g.jsxs)("span",{children:[p.exitDateTime.getHours(),":",p.exitDateTime.getMinutes()," Hrs"]})]})]}):null,(0,g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,g.jsx)("div",{className:"borderContainer",style:{marginBottom:16},children:(0,g.jsxs)("span",{style:{fontSize:30},children:[" \u20b9  ",p.ticketPaymentDetails.parkingCharges.totalRent]})})}),(0,g.jsx)("span",{className:"entryText",children:"Rent breakup"}),(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"borderContainer",style:{height:135,marginTop:10,marginBottom:20,alignItems:"center",justifyContent:"center"},children:[(0,g.jsxs)("div",{className:"details",children:[(0,g.jsx)("span",{children:" Rent per Hour"}),(0,g.jsxs)("span",{children:[" ",p.ticketPaymentDetails.parkingCharges.perHrRent," "]})]}),(0,g.jsxs)("div",{className:"details",children:[(0,g.jsx)("span",{children:" Vallet Charges "}),(0,g.jsxs)("span",{children:[p.ticketPaymentDetails.parkingCharges.valletCharges," "]})]}),(0,g.jsxs)("div",{className:"details",style:{border:"none"},children:[(0,g.jsx)("span",{children:" Total Time Hr "}),(0,g.jsxs)("span",{children:[p.ticketPaymentDetails.parkingCharges.totalTimeHr," "]})]})]})}),(0,g.jsx)("span",{className:"entryText",children:"Stored Vehicle Location Detials"}),(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"borderContainer",style:{marginTop:10,marginBottom:20,alignItems:"center",justifyContent:"center"},children:[(0,g.jsxs)("div",{className:"details",children:[(0,g.jsxs)("label",{children:["Enter Location Details:",(0,g.jsx)("input",{type:"text",value:w,onChange:function(e){S(e.target.value)}})]}),(0,g.jsx)("button",{onClick:function(){var e={additionalInfo:w,TicketId:n};localStorage.setItem("additionalInfo",JSON.stringify(e)),alert("Additional information saved!")},children:"Save"}),"            "]}),(0,g.jsxs)("div",{className:"details",children:[null===E?(0,g.jsx)("img",{src:Z,alt:""}):null,null===E?(0,g.jsx)("button",{style:{width:"30%",height:"fit-content"},onClick:O,children:"Click a Picture"}):(0,g.jsxs)("div",{children:[(0,g.jsx)(h(),{audio:!1,width:"65%",ref:z,screenshotFormat:"image/jpeg",videoConstraints:{facingMode:"environment",width:"250px"},className:"webcam"}),(0,g.jsx)("button",{style:{width:"30%",marginLeft:"5%"},onClick:function(){var e=z.current.getScreenshot();R(e);var t={capturedImage:e,TicketId:n};localStorage.setItem("imageData",JSON.stringify(t)),H(null)},children:"Click"})]})]}),(0,g.jsx)("div",{className:"details",style:{border:"none"},children:A?(0,g.jsxs)("div",{children:[(0,g.jsxs)("p",{children:["Location captured: ",A.latitude,", ",A.longitude]}),(0,g.jsxs)("div",{className:"details",children:[(0,g.jsx)("button",{style:{width:"auto"},onClick:function(){var e=A.latitude,t=A.longitude;window.open("https://www.google.com/maps/search/?api=1&query=".concat(e,",").concat(t),"_blank")},children:"Navigate to Location"}),(0,g.jsx)("button",{style:{width:"auto"},onClick:I,children:"Re-Capture Location"})]})]}):(0,g.jsx)("button",{onClick:I,children:"Capture Location"})})]})})]})}):(0,g.jsx)("div",{children:"Ticket id not found"})})}},2982:function(e,t){t.Z="/server/parking-management-service/"}}]);
//# sourceMappingURL=24.5217fee7.chunk.js.map