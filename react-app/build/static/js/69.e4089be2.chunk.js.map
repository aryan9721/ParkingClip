{"version":3,"file":"static/js/69.e4089be2.chunk.js","mappings":"8PAuJA,EA9IqB,WACnB,IAAMA,EAAUC,EAAAA,EAAM,kCAEtBC,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,IAE1BI,EAAAA,EAAAA,YAAU,WACRC,GACF,GAAG,IAGH,IAAMA,EAAa,WACjBC,EAAAA,EAAAA,IAAUV,GAASW,MAAK,SAACC,GACvBC,QAAQC,IAAIF,EAASG,KAAKA,KAAKA,MAC/BR,EAAWK,EAASG,KAAKA,KAAKA,KAChC,GACF,EAwBMA,EAAO,CACTC,QAAS,CACP,CACEC,MAAO,gBACPC,MAAO,gBAET,CACED,MAAO,aACPC,MAAO,aAET,CACED,MAAO,cACPC,MAAO,aACPC,MAAO,KAET,CACEF,MAAO,YACPC,MAAO,WACPC,MAAO,KAET,CACEF,MAAO,0BACPC,MAAO,oBACPC,MAAO,KAET,CACEF,MAAO,0BACPC,MAAO,oBACPC,MAAO,KAET,CACEF,MAAO,oBACPC,MAAO,kBACPC,MAAO,KAET,CACEF,MAAO,6BACPC,MAAO,kBACPC,MAAO,KAGT,CACEF,MAAO,oBACPC,MAAO,kBACPC,MAAO,KAET,CACEF,MAAO,cACPC,MAAO,QACPC,MAAO,KAET,CACEF,MAAO,WACPC,MAAO,YACPC,MAAO,MASbC,KAAMd,GAAWA,EAAQe,KAAI,SAACC,GAAG,MAAM,CAErCC,aAAcD,EAAIC,aAClBC,UAAWF,EAAIE,UACfC,WAAYH,EAAIG,WAChBC,SAAUJ,EAAII,SACdC,kBAAmBL,EAAIK,kBACvBC,kBAAmBN,EAAIM,kBACvBC,gBAAiBP,EAAIO,gBACrBC,gBAAiBR,EAAIQ,gBACrBC,MAAOT,EAAIS,MACXC,UAAWV,EAAIU,UACfC,gBAAiB,IAAIC,KAAKZ,EAAIa,WAAWC,cAAcC,MAAM,KAAK,GAEnE,KAIH,OADAxB,QAAQC,IAAIR,IAEVgC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACnBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,UAC5BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,SAAQC,SAAA,EACrBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,yBACJF,EAAAA,EAAAA,KAACI,EAAAA,IAAY,CACXC,iBAAe,EACfC,MAAO,CAAEC,WAAY,SAAUC,WAAY,MAAOC,eAAgB,UAClEC,SAAO,EACPC,UAAQ,EACRC,OAAK,EACLnC,KAAMA,KAEZuB,EAAAA,EAAAA,KAAA,UAAQa,QArHc,WACxB,IACM/B,EAAOL,EAAKK,KAEZgC,EAAOC,OAAOD,KAAKhC,EAAK,IAAIkC,QAAO,SAAAC,GAAG,MAAY,WAARA,GAA4B,YAARA,CAAiB,IAEjFC,EAAa,GACjBA,GAAcJ,EAAKK,KAJD,KAImB,KAErCrC,EAAKsC,SAAQ,SAACpC,GACZ,IAAMqC,EAASP,EAAK/B,KAAI,SAACkC,GACvB,OAAOjC,EAAIiC,EACb,IACAC,GAAcG,EAAOF,KAVL,KAUuB,IACzC,IACA5C,QAAQC,IAAI0C,GACZ,IAAMI,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAO,+BAAiCC,UAAUR,GACvDI,EAAKK,SAjBY,iBAkBjBJ,SAASK,KAAKC,YAAYP,GAC1BA,EAAKQ,QACLP,SAASK,KAAKG,YAAYT,EAC5B,EA+FuCpB,SAAC,0BAM1C,C,qBC9IA,IAJgB,qC","sources":["pages/ShowBusiness/ShowBusiness.js","pages/api/index.js"],"sourcesContent":["import \"./ShowBusiness.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { MDBDataTable } from \"mdbreact\";\r\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\r\nimport \"mdbreact/dist/css/mdb.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport api  from  '../api';\r\n// import HttpService from '../../utils/httpService'\r\nimport axios from \"axios\";\r\nconst ShowBusiness = () => {\r\n  const baseURL = api + \"api/businesses?page=0&limit=100\";\r\n\r\n  const [results, setresults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getresults();\r\n  }, []);\r\n  \r\n  //get todo list from database\r\n  const getresults = () => {\r\n    axios.get(baseURL).then((response) => {\r\n      console.log(response.data.data.data);\r\n      setresults(response.data.data.data);\r\n    });\r\n  };\r\n  const handleExportToCSV = () => {\r\n    const fileName = 'table_data.csv';\r\n    const rows = data.rows;\r\n    const separator = ',';\r\n    const keys = Object.keys(rows[0]).filter(key => key !== 'qrCode' && key !== 'actions');\r\n  \r\n    let csvContent = '';\r\n    csvContent += keys.join(separator) + '\\n';\r\n  \r\n    rows.forEach((row) => {\r\n      const values = keys.map((key) => {\r\n        return row[key];\r\n      });\r\n      csvContent += values.join(separator) + '\\n';\r\n    });\r\n    console.log(csvContent);\r\n    const link = document.createElement('a');\r\n    link.href = 'data:text/csv;charset=utf-8,' + encodeURI(csvContent);\r\n    link.download = fileName;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n  const data = {\r\n      columns: [\r\n        {\r\n          label: 'Business Name',\r\n          field: 'businessName'\r\n        },\r\n        {\r\n          label: \"First Name\",\r\n          field: \"firstName\",\r\n        },\r\n        {\r\n          label: \"middle Name\",\r\n          field: \"middleName\",\r\n          width: 150,\r\n        },\r\n        {\r\n          label: \"last Name\",\r\n          field: \"lastName\",\r\n          width: 270,\r\n        },\r\n        {\r\n          label: \"Business Contact Number\",\r\n          field: \"businessContactNo\",\r\n          width: 200,\r\n        },\r\n        {\r\n          label: \"Personal Contact Number\",\r\n          field: \"personalContactNo\",\r\n          width: 200,\r\n        },\r\n        {\r\n          label: \"Business Email ID\",\r\n          field: \"businessEmailId\",\r\n          width: 100,\r\n        },\r\n        {\r\n          label: \"Business Registration Date\",\r\n          field: \"businessRegDate\",\r\n          width: 100,\r\n        },\r\n\r\n        {\r\n          label: \"Personal Email Id\",\r\n          field: \"personalEmailId\",\r\n          width: 150,\r\n        },\r\n        {\r\n          label: \"GST Reg. No\",\r\n          field: \"gstNo\",\r\n          width: 100,\r\n        },\r\n        {\r\n          label: \"Pan Card\",\r\n          field: \"pancardNo\",\r\n          width: 100,\r\n        },\r\n        // {\r\n        //   label: \"Action\",\r\n        //   field: \"actions\",\r\n        //   width: 50,\r\n        //   sort: false,\r\n        // },\r\n      ],\r\n    rows: results && results.map((row) => ({\r\n       // Add a check before calling map\r\n      businessName: row.businessName,\r\n      firstName: row.firstName,\r\n      middleName: row.middleName,\r\n      lastName: row.lastName,\r\n      businessContactNo: row.businessContactNo,\r\n      personalContactNo: row.personalContactNo,\r\n      businessEmailId: row.businessEmailId,\r\n      personalEmailId: row.personalEmailId,\r\n      gstNo: row.gstNo,\r\n      pancardNo: row.pancardNo,\r\n      businessRegDate: new Date(row.createdAt).toISOString().split('T')[0],\r\n      // actions: <button onClick={() => console.log(row)}>Show</button> // Add a button to each row\r\n    })),\r\n  \r\n  };\r\n  console.log(results)\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"homeContainer\">\r\n        <div className=\"VRbody\">\r\n          <h3>Registered Business</h3>\r\n          <MDBDataTable\r\n            noBottomColumns\r\n            style={{ lineHeight: \"normal\", whiteSpace: \"pre\", justifyContent: \"center\" }}\r\n            striped\r\n            bordered\r\n            small\r\n            data={data}\r\n          />\r\n      <button onClick={handleExportToCSV}>Download Report</button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default ShowBusiness;\r\n","// const baseURL = 'https://parking-management-service-804561330.development.catalystserverless.com/server/parking-management-service/';\r\n// const baseURL = 'http://localhost:5001/';\r\nconst baseURL = '/server/parking-management-service/';\r\n// const baseURL = 'http://parking-clip.com/server/parking-management-service/';\r\n// const baseURL = 'http://192.168.0.103:5001/';\r\n// const baseURL = 'http://localhost:3000/server/parking-management-service/';\r\nexport default baseURL;"],"names":["baseURL","api","_useState","useState","_useState2","_slicedToArray","results","setresults","useEffect","getresults","axios","then","response","console","log","data","columns","label","field","width","rows","map","row","businessName","firstName","middleName","lastName","businessContactNo","personalContactNo","businessEmailId","personalEmailId","gstNo","pancardNo","businessRegDate","Date","createdAt","toISOString","split","_jsx","className","children","_jsxs","MDBDataTable","noBottomColumns","style","lineHeight","whiteSpace","justifyContent","striped","bordered","small","onClick","keys","Object","filter","key","csvContent","join","forEach","values","link","document","createElement","href","encodeURI","download","body","appendChild","click","removeChild"],"sourceRoot":""}