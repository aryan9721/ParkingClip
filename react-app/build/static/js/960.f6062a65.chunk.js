"use strict";(self.webpackChunkParkingClip=self.webpackChunkParkingClip||[]).push([[960],{2982:function(e,t){t.Z="/server/parking-management-service/"},23960:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(74165),r=n(15861),l=n(29439),s=n(72791),i=n(31243),u=n(50097),o=n(10765),c=n(85523),d=n(66362),h=n(17133),p=n(2982),x=n(19658),f=n(80184),v=function(){var e=JSON.parse(localStorage.getItem("userdata")),t=(0,s.useState)([]),n=(0,l.Z)(t,2),v=n[0],j=n[1];(0,s.useEffect)((function(){m()}),[]);var m=function(){i.Z.get(p.Z+"api/businesses/"+e.userId).then((function(e){j(e.data.data.locations),k(e.data.data.locations[0].name),q(e.data.data.locations[0].vehicleDetails[0].type)}))},g=(0,s.useState)(""),b=(0,l.Z)(g,2),Z=(b[0],b[1]),S=(0,s.useState)(""),y=(0,l.Z)(S,2),C=y[0],w=y[1],N=(0,s.useState)("no location found"),I=(0,l.Z)(N,2),R=I[0],k=I[1],D=(0,s.useState)(null),T=(0,l.Z)(D,2),V=T[0],q=T[1],M=(0,s.useState)(0),E=(0,l.Z)(M,2),P=E[0],Y=E[1],A=(0,s.useState)(0),H=(0,l.Z)(A,2),J=H[0],O=H[1],U=(0,s.useState)(0),L=(0,l.Z)(U,2),z=L[0],B=L[1],F=(0,s.useState)(0),G=(0,l.Z)(F,2),K=G[0],Q=G[1],W=(0,s.useState)(0),X=(0,l.Z)(W,2),$=X[0],_=X[1],ee=(0,s.useState)(!0),te=(0,l.Z)(ee,2),ne=te[0],ae=te[1],re=(0,s.useState)(!0),le=(0,l.Z)(re,2),se=(le[0],le[1]),ie=(0,s.useState)(!0),ue=(0,l.Z)(ie,2),oe=ue[0],ce=ue[1],de=(0,s.useState)(!1),he=(0,l.Z)(de,2),pe=(he[0],he[1],v.find((function(e){return e.name===R}))),xe=pe?pe.vehicleDetails.map((function(e){return e.type})):[],fe=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=JSON.parse(localStorage.getItem("userdata")),r={vehicleType:V,rentPerHr:P,maxDailyRent:J,valletCharges:K,businessId:n.businessId,minimumCharges:z,location:R,maxCapping:ne,roundingUpTo:$,isValletApplicable:oe,isDayEndMidnight:!1},e.next=5,i.Z.post(p.Z+"api/businesses/rates",r).then((function(e){Z(e.data),w(e.data.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)("div",{className:"home",children:(0,f.jsx)("div",{className:"homeContainer",children:(0,f.jsx)("div",{className:"body",children:(0,f.jsxs)("div",{className:"formContainer",children:[(0,f.jsx)("h3",{children:"Define Rate Structure"}),""!==C&&(0,f.jsx)(x.Z,{severity:"success",children:C}),(0,f.jsxs)("form",{onSubmit:fe,children:[(0,f.jsxs)("div",{className:"formInput",children:[(0,f.jsx)("label",{children:"Select Location"}),(0,f.jsx)("select",{id:"locationSelect",onChange:function(e){var t=e.target.value;k(t),q(xe[0])},children:v.map((function(e){return(0,f.jsx)("option",{value:e.name,children:e.name})}))})]}),R&&(0,f.jsxs)("div",{className:"formInput",children:[(0,f.jsx)("label",{children:"Select a vehicle type:"}),(0,f.jsx)("select",{id:"vehicleTypeSelect",onChange:function(e){var t=e.target.value;q(t)},children:xe.map((function(e){return(0,f.jsx)("option",{value:e,children:e},e)}))})]}),(0,f.jsxs)("div",{className:"formInput",children:[(0,f.jsx)("label",{children:"Rent/HR"}),(0,f.jsx)("input",{required:!0,onChange:function(e){return function(e){var t=e.target.value;Y(t)}(e)},type:Text,placeholder:"Rs. "})]}),(0,f.jsxs)("div",{className:"formInput",children:[(0,f.jsx)("label",{children:"Mininum Charge"}),(0,f.jsx)("input",{required:!0,onChange:function(e){return function(e){var t=e.target.value;B(t)}(e)},type:Text,placeholder:"Rs. "})]}),(0,f.jsxs)("div",{className:"formInput",children:[(0,f.jsx)("label",{children:"Rounding Unit"}),(0,f.jsx)("input",{required:!0,onChange:function(e){return function(e){var t=e.target.value;_(t)}(e)},type:Text,placeholder:"Rs. "})]}),(0,f.jsxs)(d.Z,{style:{width:"48%"},children:[(0,f.jsx)(h.Z,{id:"demo-row-radio-buttons-group-label",children:"is Day End Midnight?"}),(0,f.jsxs)(o.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:function(e){return function(e){var t=e.target.value;se(t)}(e)},defaultValue:"false",children:[(0,f.jsx)(c.Z,{value:"true",control:(0,f.jsx)(u.Z,{}),label:"Yes"}),(0,f.jsx)(c.Z,{value:"false",control:(0,f.jsx)(u.Z,{}),label:"No"})]})]}),(0,f.jsxs)(d.Z,{style:{width:"48%"},children:[(0,f.jsx)(h.Z,{id:"demo-row-radio-buttons-group-label",children:"Max Capping?"}),(0,f.jsxs)(o.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:function(e){return function(e){var t=e.target.value;ae(t)}(e)},defaultValue:"false",children:[(0,f.jsx)(c.Z,{value:"true",control:(0,f.jsx)(u.Z,{}),label:"Yes"}),(0,f.jsx)(c.Z,{value:"false",control:(0,f.jsx)(u.Z,{}),label:"No"})]})]}),"true"==ne?(0,f.jsxs)("div",{className:"formInput",children:[(0,f.jsx)("label",{children:"Max Daily Rent"}),(0,f.jsx)("input",{required:!0,onChange:function(e){return function(e){var t=e.target.value;O(t)}(e)},type:Text,placeholder:"Rs. "})]}):null,(0,f.jsxs)(d.Z,{style:{width:"48%"},children:[(0,f.jsx)(h.Z,{id:"demo-row-radio-buttons-group-label",children:"Allow Vallet Services??"}),(0,f.jsxs)(o.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:function(e){return function(e){var t=e.target.value;ce(t)}(e)},defaultValue:"false",children:[(0,f.jsx)(c.Z,{value:"true",control:(0,f.jsx)(u.Z,{}),label:"Yes"}),(0,f.jsx)(c.Z,{value:"false",control:(0,f.jsx)(u.Z,{}),label:"No"})]})]}),"true"==oe?(0,f.jsxs)("div",{className:"formInput",children:[(0,f.jsx)("label",{children:"Vallet Charges"}),(0,f.jsx)("input",{required:!0,onChange:function(e){return function(e){var t=e.target.value;Q(t)}(e)},type:Text,placeholder:"Rs. "})]}):null,(0,f.jsx)("button",{children:"Save"})]})]})})})})}}}]);
//# sourceMappingURL=960.f6062a65.chunk.js.map